let pokemonRepository=function(){let e=[],t=document.querySelector("#modal-container");function n(t){return e.push(t)}function o(e){let t=e.detailsUrl;return fetch(t).then((function(e){return e.json()})).then((function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,e.abilities=t.abilities})).catch((function(e){console.error(e)}))}function i(e){let t=document.querySelector("#modal-container .modal-title"),n=document.querySelector("#modal-container .modal-body");JSON.stringify(e.types,"name");t.innerText="Pokemon: "+e.name,n.innerHTML="Height: "+e.height+"<br>Abilities: "+(e.abilities||[]).map((e=>e.ability.name)).join(",")+"<br>Types: "+(e.types||[]).map((e=>e.type.name)).join(",")+'<br><img src="'+e.imageUrl+'">',$("#modal-container").modal("show"),console.log("showModal ran")}function a(){t.classList.remove("is-visible")}return window.addEventListener("keydown",(e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&a()})),t.addEventListener("click",(e=>{e.target===t&&a()})),{getAll:function(){return e},add:n,addListItem:function(e){let t=document.querySelector(".pokemonList"),n=document.createElement("li");n.classList.add("list-group-item");let a=document.createElement("button");a.innerText=e.name,a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModal"),a.classList.add("btn","btn-primary"),n.append(a),t.append(n),a.addEventListener("click",(function(){!function(e){o(e).then((function(){i(e),console.log(e)}))}(e),console.log("addListItem is running")}))},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){n({name:e.name,detailsUrl:e.url})}))})).catch((function(e){console.error(e)}))},loadDetails:o,showModal:i}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(e){pokemonRepository.addListItem(e)}))}));